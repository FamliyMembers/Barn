<ion-view style="background:white" cache-view="false">
  <ion-nav-title>{{title}}</ion-nav-title>
  <ion-content ng-controller="getEchartsData" overflow-scroll="true" style="overflow:hidden;">
    <ion-refresher pulling-text="下拉刷新" spinner="bubbles" on-refresh="doRefresh()"></ion-refresher>

    <ion-slide-box active-slide="myActiveSlide" on-slide-changed="slideHasChanged(index)" does-continue="true" auto-play="true"
      show-pager="true" style="height:10%;border-right:1px solid #D6D7D8;">
      <ion-slide>
        <div style="background:white;width:100%;height:100%;border-bottom:1px solid #D6D7D8;">
          <div style="position:relative;width:50%;height:100%;float:left;border-right:1px solid #D6D7D8;">
            <div style="position:relative;
                      width:30%;
                      height:50%;
                      left:20%;
                      top:20%;
                      border-radius:5px;
                      background:#25554E">
              <p style="color:white ;
                      position:relative;
                      width:100%;
                      height:100%;
                      left:20;">
                <img src="./img/temperatureIcon.png" width="15">气温</p>
            </div>
            <p style="position:absolute;
                    top:25%;
                    right:16%;
                    font-size:18px;
                    color:#25554E;">{{ airTemperature }}℃</p>
          </div>
          <div style="position:relative;width:50%;height:100%;float:left;border-right:1px solid #D6D7D8;">
            <div style="position:relative;
                      width:30%;
                      height:50%;
                      left:20%;
                      top:20%;
                      border-radius:5px;
                      background:#25554E;
                      ">
              <p style="color:white ;position:relative;
                      width:100%;
                      height:100%;
                      left:20;">
                <img src="./img/temperatureIcon.png" width="15">气湿</p>
            </div>
            <p style="position:absolute;
                    top:25%;
                    right:16%;
                    font-size:18px;
                    color:#25554E;">{{ airHumidity }}%</p>
          </div>
        </div>
      </ion-slide>
      <ion-slide>
        <div style="background:white;width:100%;height:100%;border-bottom:1px solid #D6D7D8;">
          <div style="position:relative;width:50%;height:100%;float:left;border-right:1px solid #D6D7D8;">
            <div style="position:relative;
                      width:30%;
                      height:50%;
                      left:20%;
                      top:20%;
                      border-radius:5px;
                      background:#25554E;
                      ">
              <p style="color:white ;position:relative;
                      width:100%;
                      height:100%;
                      left:20;"> <img src="./img/temperatureIcon.png" width="15">仓温</p>
            </div>
            <p style="position:absolute;
                      top:25%;
                      right:16%;
                      font-size:18px;
                      color:#25554E;">{{ barnTemperature }}℃</p>
          </div>
          <div style="position:relative;width:50%;height:100%;float:left">
            <div style="position:relative;
                        width:30%;
                        height:50%;
                        left:20%;
                        top:20%;
                        border-radius:5px;
                        background:#25554E;
                        ">
              <p style="color:white ;position:relative;
                        width:100%;
                        height:100%;
                        left:20;"> <img src="./img/temperatureIcon.png" width="15">仓湿</p>
            </div>
            <p style="position:absolute;
                        top:25%;
                        right:16%;
                        font-size:18px;
                        color:#25554E;">{{ barnHumidity }}%</p>
          </div>
        </div>
      </ion-slide>
      <ion-slide>
        <div style="background:white;width:100%;height:100%;border-bottom:1px solid #D6D7D8;">
          <div style="position:relative;width:50%;height:100%;float:left;border-right:1px solid #D6D7D8;">
            <div style="position:relative;
                      width:30%;
                      height:50%;
                      left:20%;
                      top:20%;
                      border-radius:5px;
                      background:#25554E">
              <p style="color:white ;
                      position:relative;
                      width:100%;
                      height:100%;
                      left:20;">
                <img src="./img/temperatureIcon.png" width="15">气温</p>
            </div>
            <p style="position:absolute;
                    top:25%;
                    right:16%;
                    font-size:18px;
                    color:#25554E;">{{ airTemperature }}℃</p>
          </div>
          <div style="position:relative;width:50%;height:100%;float:left;border-right:1px solid #D6D7D8;">
            <div style="position:relative;
                      width:30%;
                      height:50%;
                      left:20%;
                      top:20%;
                      border-radius:5px;
                      background:#25554E;
                      ">
              <p style="color:white ;position:relative;
                      width:100%;
                      height:100%;
                      left:20;">
                <img src="./img/temperatureIcon.png" width="15">气湿</p>
            </div>
            <p style="position:absolute;
                    top:25%;
                    right:16%;
                    font-size:18px;
                    color:#25554E;">{{ airHumidity }}%</p>
          </div>
        </div>
      </ion-slide>
      <ion-slide>
        <div style="background:white;width:100%;height:100%;border-bottom:1px solid #D6D7D8;">
          <div style="position:relative;width:50%;height:100%;float:left;border-right:1px solid #D6D7D8;">
            <div style="position:relative;
                      width:30%;
                      height:50%;
                      left:20%;
                      top:20%;
                      border-radius:5px;
                      background:#25554E;
                      ">
              <p style="color:white ;position:relative;
                      width:100%;
                      height:100%;
                      left:20;"> <img src="./img/temperatureIcon.png" width="15">仓温</p>
            </div>
            <p style="position:absolute;
                      top:25%;
                      right:16%;
                      font-size:18px;
                      color:#25554E;">{{ barnTemperature }}℃</p>
          </div>
          <div style="position:relative;width:50%;height:100%;float:left">
            <div style="position:relative;
                        width:30%;
                        height:50%;
                        left:20%;
                        top:20%;
                        border-radius:5px;
                        background:#25554E;
                        ">
              <p style="color:white ;position:relative;
                        width:100%;
                        height:100%;
                        left:20;"> <img src="./img/temperatureIcon.png" width="15">仓湿</p>
            </div>
            <p style="position:absolute;
                        top:25%;
                        right:16%;
                        font-size:18px;
                        color:#25554E;">{{ barnHumidity }}%</p>
          </div>
        </div>
      </ion-slide>
    </ion-slide-box>

    <div style="position:absolute;
                    width:100%;
                    height:90%;
                    top:10%;
                    background:#F3F3F3;">
      <img src='./img/arrowleft.png' width="20" height="25" ng-click='doChangeEcharts()' style="border-style:none; position:absolute;left:25%;top:10px;">
      </img>
      <p style=" font-size:18px;color:#25554E;position:absolute;top:12px; left:30%;right:30%; text-align:center;letter-spacing:0px;"
        ng-model="label"><b>{{label}}</b></p>
      <img src='./img/arrowright.png' width="20" height="25" ng-click='doChangeEcharts()' style="border-style:none; position:absolute;right:25%;top:10px;">
      </input>
      <!--学弟echarts代码部分-->
      <!--异常数据echarts-->
      <div id="second" style="position:absolute;
                               width: 100%;
                               height:50%;
                               top:50px;">
      </div>
      <div id="third" style="position:absolute;
                               width: 100%;
                               height:30%;
                               top:60%;">
        <table class="table-barn-border" ng-controller="listFunc" style="position:relative;width:80%;height:80%;left:10%;right:10%">
          <!--<caption style="font-size:14px;color:gray">统计信息</caption>-->
          <tr class="table-barn-detail ">
            <th>仓号</th>
            <th>仓平均温</th>
            <th>仓最高温</th>
            <th>仓最低温</th>
          </tr>
          <tr class="table-barn-border">
            <td class="table-barn-border">{{ deviceId }}</td>
            <td class="table-barn-border">{{ barnAverage.toFixed(2) }}</td>
            <td class="table-barn-border">{{ maxBarnValue }}</td>
            <td class="table-barn-border">{{ minBarnValue }}</td>
          </tr>
          <tr class="table-barn-detail ">
            <th>层数</th>
            <th>层平均温</th>
            <th>层最高温</th>
            <th>层最低温</th>
          </tr>
          <tr class="table-barn-border" ng-repeat="x in records">
            <td class="table-barn-border">{{ x[0] }}</td>
            <td class="table-barn-border">{{ x[1].toFixed(2) }}</td>
            <td class="table-barn-border">{{ x[2] }}</td>
            <td class="table-barn-border">{{ x[3] }}</td>
          </tr>



        </table>

      </div>



      <!--粮温echarts-->
      <div id="first" style="position:absolute;
                               width: 100%;
                               height:85%;
                               top:50px;
                               "></div>
      <p style=" font-size:10px;color:gray; position:absolute;top:35px;text-align:center;left:30%;letter-spacing:0px;">更新于{{dateNow}}</p>
    </div>
  </ion-content>
</ion-view>
