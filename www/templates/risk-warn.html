<ion-view hide-back-button="false" hide-nav-bar={{hide}}>
  <ion-nav-title>粮仓预警</ion-nav-title>
  <ion-content>
    <div class="page-title" style="padding-top:3px;padding-bottom: 15px;display: {{display}}">
      <img src="img/icon-white-arrow-left.png" style="position: relative;top: 10px;margin-left: 10px" ng-click="back()" />
      <span style="display: inline-block;font-size: 18px;margin-left: 30%">粮仓预警</span>
    </div>
    <ion-refresher pulling-text="下拉刷新" spinner="bubbles" refreshing-text="刷新完成" on-refresh="doRefresh()"></ion-refresher>
    <div class="warn-left-nav" id="warn">
      <ul>
        <li ng-repeat="item in items | orderBy:'flag'" class={{item.itemClass1}}>
          <p>{{item.date}}</p>
          <p>{{item.time}}</p>
        </li>

      </ul>
    </div>
    <div class="list warn-right-nav">
      <span ng-repeat="item in items | orderBy:'flag'" class={{item.itemClass2}} ng-click="goConfirm(item.detail,item.alarmId,$index)">
              <violation-list-item
                top-text={{item.title}}
                badge-show="true"
                badge-state={{item.flag}}
                bottom-text={{item.detail}}>
              </violation-list-item>
          </span>
    </div>
    <div id="warn-load" on-drag="loadAnimation()" on-drag-end="loadMore()" class="load" ng-show="items.length">
      <span style="color: #108678;" ng-show="!loadMoreShow">上拉加载更多</span>
      <ion-spinner icon="ios" class="spinner-balanced" ng-show="loadMoreShow"></ion-spinner>
    </div>
    <div style="text-align: center;margin-top: 120px">
      <p style="color: #a2a2a2;font-size: 18px;width: 50%;margin: auto">{{loadFailedText}}</p>
    </div>
  </ion-content>
</ion-view>